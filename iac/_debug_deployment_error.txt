Error: Unterminated string starting at: line 12 column 18 (char 24126)

Response:
```json
{
  "files": {
    "main.tf": "# ---------------------------------------------------------------------------------------------------------------------\n# Azure Foundry Landing Zone - Parameterized Environment Deployment Wrapper\n# ---------------------------------------------------------------------------------------------------------------------\n\nlocals {\n  # Map environment to SKU, backup, and HA settings\n  app_service_sku = {\n    development = { tier = \"Basic\", size = \"B1\", capacity = 1 }\n    staging     = { tier = \"Standard\", size = \"S1\", capacity = 2 }\n    production  = { tier = \"PremiumV2\", size = \"P1v2\", capacity = 3 }\n  }\n  storage_replication = {\n    development = \"LRS\"\n    staging     = \"GRS\"\n    production  = \"ZRS\"\n  }\n  backup_retention_days = {\n    development = 7\n    staging     = 30\n    production  = 90\n  }\n  public_access = {\n    development = true\n    staging     = false\n    production  = false\n  }\n  high_availability = {\n    development = false\n    staging     = true\n    production  = true\n  }\n}\n\nmodule \"naming\" {\n  source     = \"../modules/naming\"\n  workload   = var.workload\n  environment = var.environment\n  location   = var.location\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"main\" {\n  name     = module.naming.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Application Gateway + WAF\nmodule \"application_gateway\" {\n  source              = \"../modules/network-applicationgateways\"\n  name                = module.naming.application_gateway_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  sku = {\n    name     = local.high_availability[var.environment] ? \"WAF_v2\" : \"Standard_v2\"\n    tier     = local.high_availability[var.environment] ? \"WAF_v2\" : \"Standard_v2\"\n    capacity = local.high_availability[var.environment] ? 2 : 1\n  }\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoint = {\n    enabled      = true\n    dns_zone     = \"privatelink.applicationgateway.azure.com\"\n    group_ids    = [\"Frontend IP Configuration\"]\n  }\n  minimum_tls_version = \"1.2\"\n  waf_configuration = {\n    enabled = true\n    firewall_mode = \"Prevention\"\n  }\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# App Service (3 zones + integration)\nmodule \"app_service_integration\" {\n  source              = \"../modules/web-sites\"\n  name                = module.naming.app_service_integration_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  os_type             = \"Linux\"\n  sku = local.app_service_sku[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.azurewebsites.net\"\n    group_ids = [\"sites\"]\n  }]\n  vnet_integration = {\n    enabled           = true\n    subnet_delegation = \"Microsoft.Web/serverFarms\"\n  }\n  https_only = true\n  minimum_tls_version = \"1.2\"\n  role_assignments = [\n    {\n      role_definition_name = \"Website Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null # To be set by managed identity\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\nmodule \"app_service_zone1\" {\n  source              = \"../modules/web-sites\"\n  name                = module.naming.app_service_zone1_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  os_type             = \"Linux\"\n  sku = local.app_service_sku[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.azurewebsites.net\"\n    group_ids = [\"sites\"]\n  }]\n  vnet_integration = {\n    enabled           = true\n    subnet_delegation = \"Microsoft.Web/serverFarms\"\n  }\n  https_only = true\n  minimum_tls_version = \"1.2\"\n  role_assignments = [\n    {\n      role_definition_name = \"Website Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\nmodule \"app_service_zone2\" {\n  source              = \"../modules/web-sites\"\n  name                = module.naming.app_service_zone2_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  os_type             = \"Linux\"\n  sku = local.app_service_sku[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.azurewebsites.net\"\n    group_ids = [\"sites\"]\n  }]\n  vnet_integration = {\n    enabled           = true\n    subnet_delegation = \"Microsoft.Web/serverFarms\"\n  }\n  https_only = true\n  minimum_tls_version = \"1.2\"\n  role_assignments = [\n    {\n      role_definition_name = \"Website Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\nmodule \"app_service_zone3\" {\n  source              = \"../modules/web-sites\"\n  name                = module.naming.app_service_zone3_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  os_type             = \"Linux\"\n  sku = local.app_service_sku[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.azurewebsites.net\"\n    group_ids = [\"sites\"]\n  }]\n  vnet_integration = {\n    enabled           = true\n    subnet_delegation = \"Microsoft.Web/serverFarms\"\n  }\n  https_only = true\n  minimum_tls_version = \"1.2\"\n  role_assignments = [\n    {\n      role_definition_name = \"Website Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Storage Accounts (3)\nmodule \"storage_primary\" {\n  source              = \"../modules/storage-storageaccounts\"\n  name                = module.naming.storage_primary_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  account_replication_type = local.storage_replication[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.blob.core.windows.net\"\n    group_ids = [\"blob\", \"queue\", \"table\", \"file\"]\n  }]\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  role_assignments = [\n    {\n      role_definition_name = \"Storage Account Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    },\n    {\n      role_definition_name = \"Storage Blob Data Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\nmodule \"storage_knowledge\" {\n  source              = \"../modules/storage-storageaccounts\"\n  name                = module.naming.storage_knowledge_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  account_replication_type = local.storage_replication[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.blob.core.windows.net\"\n    group_ids = [\"blob\", \"queue\", \"table\", \"file\"]\n  }]\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  role_assignments = [\n    {\n      role_definition_name = \"Storage Account Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    },\n    {\n      role_definition_name = \"Storage Blob Data Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\nmodule \"storage_client\" {\n  source              = \"../modules/storage-storageaccounts\"\n  name                = module.naming.storage_client_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  account_replication_type = local.storage_replication[var.environment]\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.blob.core.windows.net\"\n    group_ids = [\"blob\", \"queue\", \"table\", \"file\"]\n  }]\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  role_assignments = [\n    {\n      role_definition_name = \"Storage Account Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    },\n    {\n      role_definition_name = \"Storage Blob Data Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Key Vault\nmodule \"key_vault\" {\n  source              = \"../modules/keyvault-vaults\"\n  name                = module.naming.key_vault_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  tenant_id           = var.tenant_id\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.vault.azure.net\"\n    group_ids = [\"vault\"]\n  }]\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Azure AI Search\nmodule \"ai_search\" {\n  source              = \"../modules/search-searchservices\"\n  name                = module.naming.ai_search_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.search.windows.net\"\n    group_ids = [\"searchService\"]\n  }]\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Cosmos DB\nmodule \"cosmosdb\" {\n  source              = \"../modules/documentdb-databaseaccounts\"\n  name                = module.naming.cosmosdb_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoint = {\n    enabled   = true\n    dns_zone  = \"privatelink.documents.azure.com\"\n    group_ids = [\"sql\", \"mongoDB\"]\n  }\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  role_assignments = [\n    {\n      role_definition_name = \"Cosmos DB Account Reader Role\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    },\n    {\n      role_definition_name = \"Cosmos DB Built-in Data Reader\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  backup_policy = {\n    type = \"Periodic\"\n    periodic_mode_properties = {\n      backup_interval_in_minutes = 1440\n      backup_retention_interval_in_hours = 24 * local.backup_retention_days[var.environment]\n    }\n  }\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Azure OpenAI\nmodule \"openai\" {\n  source              = \"../modules/cognitiveservices-accounts\"\n  name                = module.naming.openai_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  private_endpoints = [{\n    enabled   = true\n    dns_zone  = \"privatelink.cognitiveservices.azure.com\"\n    group_ids = [\"privateEndpointConnections\"]\n  }]\n  network_acls = {\n    default_action = local.public_access[var.environment] ? \"Allow\" : \"Deny\"\n  }\n  role_assignments = [\n    {\n      role_definition_name = \"Cognitive Services Contributor\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    },\n    {\n      role_definition_name = \"Cognitive Services User\"\n      principal_type       = \"ServicePrincipal\"\n      principal_id         = null\n    }\n  ]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Azure Firewall\nmodule \"firewall\" {\n  source              = \"../modules/network-azurefirewalls\"\n  name                = module.naming.firewall_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  sku_name            = local.high_availability[var.environment] ? \"AZFW_Hub\" : \"AZFW_VNet\"\n  sku_tier            = local.high_availability[var.environment] ? \"Premium\" : \"Standard\"\n  ip_configuration    = var.firewall_ip_configuration\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Azure Bastion\nmodule \"bastion\" {\n  source              = \"../modules/network-bastionhosts\"\n  name                = module.naming.bastion_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  sku                 = local.high_availability[var.environment] ? \"Standard\" : \"Basic\"\n  ip_configuration    = var.bastion_ip_configuration\n  identity = {\n    type = \"SystemAssigned\"\n  }\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n\n# Azure DDoS Protection\nmodule \"ddos\" {\n  source              = \"../modules/network-ddosprotectionplans\"\n  name                = module.naming.ddos_name\n  location            = var.location\n  resource_group_name = azurerm_resource_group.main.name\n  enable_telemetry    = true\n  lock                = local.high_availability[var.environment]\n  diagnostic_settings = var.diagnostic_settings\n  tags = var.tags\n}\n",
    "variables.tf": "# ---------------------------------------------------------------------------------------------------------------------\n# Variables for Parameterized Environment Deployment\n# ---------------------------------------------------------------------------------------------------------------------\n\nvariable \"subscription_id\" {\n  description = \"Azure subscription ID\"\n  type        = string\n}\n\nvariable \"tenant_id\" {\n  description = \"Azure Active Directory tenant ID\"\n  type        = string\n}\n\nvariable \"location\" {\n  description = \"Azure region for resource deployment (e.g. eastus, westeurope)\"\n  type        = string\n}\n\nvariable \"environment\" {\n  description = \"Deployment environment (development, staging, production)\"\n  type        = string\n  validation {\n    condition     = contains([\"development\", \"staging\", \"production\"], var.environment)\n    error_message = \"Environment must be one of: development, staging, production.\"\n  }\n}\n\nvariable \"workload\" {\n  description = \"Short workload/application name for CAF naming (e.g. 'contosoai')\"\n  type        = string\n}\n\nvariable \"tags\" {\n  description = \"Map of tags to apply to all resources\"\n  type        = map(string)\n  default     = {}\n}\n\nvariable \"diagnostic_settings\" {\n  description = \"Diagnostic settings configuration for all resources\"\n  type        = any\n  default     = {}\n}\n\nvariable \"firewall_ip_configuration\" {\n  description = \"IP configuration for Azure Firewall module\"\n  type        = any\n}\n\nvariable \"bastion_ip_configuration\" {\n  description = \"IP configuration for Azure Bastion module\"\n  type        = any\n}\n",
    "outputs.tf": "# ---------------------------------------------------------------------------------------------------------------------\n# Outputs\n# ---------------------------------------------------------------------------------------------------------------------\n\noutput \"resource_group_name\" {\n  value = azurerm_resource_group.main.name\n}\n\noutput \"application_gateway_id\" {\n  value = module.application_gateway.id\n}\n\noutput \"app_service_integration_id\" {\n  value = module.app_service_integration.id\n}\n\noutput \"app_service_zone1_id\" {\n  value = module.app_service_zone1.id\n}\n\noutput \"app_service_zone2_id\" {\n  value = module.app_service_zone2.id\n}\n\noutput \"app_service_zone3_id\" {\n  value = module.app_service_zone3.id\n}\n\noutput \"storage_primary_id\" {\n  value = module.storage_primary.id\n}\n\noutput \"storage_knowledge_id\" {\n  value = module.storage_knowledge.id\n}\n\noutput \"storage_client_id\" {\n  value = module.storage_client.id\n}\n\noutput \"key_vault_id\" {\n  value = module.key_vault.id\n}\n\noutput \"ai_search_id\" {\n  value = module.ai_search.id\n}\n\noutput \"cosmosdb_id\" {\n  value = module.cosmosdb.id\n}\n\noutput \"openai_id\" {\n  value = module.openai.id\n}\n\noutput \"firewall_id\" {\n  value = module.firewall.id\n}\n\noutput \"bastion_id\" {\n  value = module.bastion.id\n}\n\noutput \"ddos_id\" {\n  value = module.ddos.id\n}\n",
    "terraform.tfvars.example": "# Example values for development environment\nsubscription_id = \"00000000-0000-0000-0000-000000000000\"\ntenant_id       = \"11111111-1111-1111-1111-111111111111\"\nlocation        = \"eastus\"\nenvironment     = \"development\"\nworkload        = \"contosoai\"\ntags = {\n  environment = \"development\"\n  owner       = \"devops@contoso.com\"\n}\ndiagnostic_settings = {}\nfirewall_ip_configuration = {\n  name                 = \"fw-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/virtualNetworks/contosoai-dev-vnet/subnets/AzureFirewallSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-dev-fw-pip\"\n}\nbastion_ip_configuration = {\n  name                 = \"bastion-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/virtualNetworks/contosoai-dev-vnet/subnets/AzureBastionSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-dev-bastion-pip\"\n}\n",
    "terraform.tfvars.dev": "# Development environment values\nsubscription_id = \"00000000-0000-0000-0000-000000000000\"\ntenant_id       = \"11111111-1111-1111-1111-111111111111\"\nlocation        = \"eastus\"\nenvironment     = \"development\"\nworkload        = \"contosoai\"\ntags = {\n  environment = \"development\"\n  owner       = \"devops@contoso.com\"\n}\ndiagnostic_settings = {}\nfirewall_ip_configuration = {\n  name                 = \"fw-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/virtualNetworks/contosoai-dev-vnet/subnets/AzureFirewallSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-dev-fw-pip\"\n}\nbastion_ip_configuration = {\n  name                 = \"bastion-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/virtualNetworks/contosoai-dev-vnet/subnets/AzureBastionSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-dev-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-dev-bastion-pip\"\n}\n",
    "terraform.tfvars.staging": "# Staging environment values\nsubscription_id = \"00000000-0000-0000-0000-000000000000\"\ntenant_id       = \"11111111-1111-1111-1111-111111111111\"\nlocation        = \"eastus2\"\nenvironment     = \"staging\"\nworkload        = \"contosoai\"\ntags = {\n  environment = \"staging\"\n  owner       = \"devops@contoso.com\"\n}\ndiagnostic_settings = {}\nfirewall_ip_configuration = {\n  name                 = \"fw-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-stg-rg/providers/Microsoft.Network/virtualNetworks/contosoai-stg-vnet/subnets/AzureFirewallSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-stg-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-stg-fw-pip\"\n}\nbastion_ip_configuration = {\n  name                 = \"bastion-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-stg-rg/providers/Microsoft.Network/virtualNetworks/contosoai-stg-vnet/subnets/AzureBastionSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-stg-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-stg-bastion-pip\"\n}\n",
    "terraform.tfvars.prod": "# Production environment values\nsubscription_id = \"00000000-0000-0000-0000-000000000000\"\ntenant_id       = \"11111111-1111-1111-1111-111111111111\"\nlocation        = \"westeurope\"\nenvironment     = \"production\"\nworkload        = \"contosoai\"\ntags = {\n  environment = \"production\"\n  owner       = \"devops@contoso.com\"\n}\ndiagnostic_settings = {}\nfirewall_ip_configuration = {\n  name                 = \"fw-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-prod-rg/providers/Microsoft.Network/virtualNetworks/contosoai-prod-vnet/subnets/AzureFirewallSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-prod-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-prod-fw-pip\"\n}\nbastion_ip_configuration = {\n  name                 = \"bastion-ipconfig\"\n  subnet_id            = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-prod-rg/providers/Microsoft.Network/virtualNetworks/contosoai-prod-vnet/subnets/AzureBastionSubnet\"\n  public_ip_address_id = \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoai-prod-rg/providers/Microsoft.Network/publicIPAddresses/contosoai-prod-bastion-pip\"\n}\n",
    "backend.tf": "# ---------------------------------------------------------------------------------------------------------------------\n# Terraform Remote State Backend (Azure Storage)\n# ---------------------------------------------------------------------------------------------------------------------\nterraform {\n  backend \"azurerm\" {\n    resource_group_name  = \"<STATE_RESOURCE_GROUP>\"\n    storage_account_name = \"<STATE_STORAGE_ACCOUNT>\"\n    container_name       = \"tfstate\"\n    key                 = \"${var.environment}/terraform.tfstate\"\n  }\n}\n",
    "providers.tf": "# ---------------------------------------------------------------------------------------------------------------------\n# Providers\n# ---------------------------------------------------------------------------------------------------------------------\nterraform {\n  required_version = \">= 1.4.0\"\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \">= 3.80.0\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  features {}\n  subscription_id = var.subscription_id\n  tenant_id       = var.tenant_id\n}\n",
    "README.md": "# Azure Foundry Landing Zone - Parameterized Environment Deployment\n\nThis Terraform deployment orchestrates a secure, CAF-compliant Azure landing zone for AI workloads. It supports **development**, **staging**, and **production** environments via a single parameterized wrapper.\n\n## Features\n- **CAF-compliant naming** via the `naming` module\n- **Environment parameterization**: `development`, `staging`, `production`\n- **Security**: Managed identities, RBAC, private endpoints, public access control\n- **Network isolation**: Private endpoints, VNet integration, DNS zones\n- **Monitoring**: Diagnostic settings for all resources\n- **WAF/CAF best practices**: Sizing, backup, HA, tagging\n- **DevOps ready**: Remote state, example tfvars, pipeline-friendly\n\n## Usage\n\n1. **Clone the repo and initialize Terraform:**\n   ```sh\n   terraform init\n   ```\n\n2. **Select or create your environment tfvars file:**\n   - `terraform.tfvars.dev` for development\n   - `terraform.tfvars.staging` for staging\n   - `terraform.tfvars.prod` for production\n\n3. **Apply the deployment:**\n   ```sh\n   terraform apply -var-file=\"terraform.tfvars.dev\"\n   # or\n   terraform apply -var-file=\"terraform.tfvars.staging\"\n   # or\n   terraform apply -var-file=\"terraform.tfvars.prod\"\n   ```\n\n4. **Review outputs:**\n   Resource IDs and names are output for integration and automation.\n\n## Required User Inputs\n\n| Variable                  | Description                                 | How to Find                                  |\n|--------------------------|---------------------------------------------|----------------------------------------------|\n| subscription_id           | Azure subscription ID                       | `az account show --query id -o tsv`          |\n| tenant_id                 | Azure AD tenant ID                          | `az account show --query tenantId -o tsv`    |\n| location                  | Azure region (e.g. eastus, westeurope)      | [Azure Regions](https://azure.microsoft.com/en-us/global-infrastructure/geographies/) |\n| environment               | deployment environment                      | One of: development, staging, production     |\n| workload                  | Short workload name for naming              | e.g. `contosoai`                             |\n| tags                      | Resource tags (map)                         | e.g. `{ environment = \"dev\" }`              |\n| diagnostic_settings       | Diagnostic settings config (map/object)      | See [Diagnostic Settings](https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/diagnostic-settings) |\n| firewall_ip_configuration | Azure Firewall IP config (object)           | See [Firewall Module](https://registry.terraform.io/modules/Azure/avm-res-network-azurefirewalls/azurerm/latest) |\n| bastion_ip_configuration  | Azure Bastion IP config (object)            | See [Bastion Module](https://github.com/Azure/terraform-azurerm-avm-res-network-bastionhost) |\n\n## Phase 1 Recommendations Applied\n- **Security**: Managed identity enabled for all resources, RBAC assignments for least privilege\n- **Networking**: Private endpoints for all supported services, public access disabled in staging/production, VNet integration for App Service, Firewall, Bastion\n- **Monitoring**: Diagnostic settings enabled for all resources\n- **CAF Naming**: All resources named via the naming module\n- **WAF Sizing**: Environment-specific SKUs, HA, and backup retention\n\n## Remote State\nEdit `backend.tf` to set your remote state storage account and resource group.\n\n## Module Structure\n- All modules are referenced via `../modules/` relative paths.\n- The `naming` module is required and must be present in `../modules/naming`.\n\n## Example tfvars\nSee `terraform.tfvars.example`, `terraform.tfvars.dev`, `terraform.tfvars.staging`, `terraform.tfvars.prod` for parameter examples.\n\n## Compliance\n- [CAF Naming](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging)\n- [WAF Sizing](https://learn.microsoft.com/en-us/azure/architecture/framework/)\n- [Private Endpoints](https://learn.microsoft.com/en-us/azure/private-link/private-endpoint-overview)\n- [RBAC](https://learn.microsoft.com/en-us/azure/role-based-access-control/overview)\n- [Diagnostic Settings](https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/diagnostic-settings)\n\n---\n\n**NOTE:**\n- All resource names are generated by the naming module and are unique per environment.\n- No secrets are stored in code. Use Key Vault for secrets.\n- Review and customize diagnostic settings as needed for your monitoring workspace.\n"
  },
  "required_user_inputs": [
    {
      "variable": "subscription_id",
      "description": "Azure subscription ID",
      "how_to_find": "az account show --query id -o tsv"
    },
    {
      "variable": "tenant_id",
      "description": "Azure Active Directory tenant ID",
      "how_to_find": "az account show --query tenantId -o tsv"
    },
    {
      "variable": "location",
      "description": "Azure region for resource deployment (e.g. eastus, westeurope)",
      "how_to_find": "See https://azure.microsoft.com/en-us/global-infrastructure/geographies/"
    },
    {
      "variable": "environment",
      "description": "Deployment environment (development, staging, production)",
      "how_to_find": "Choose one: development, staging, production"
    },
    {
      "variable": "workload",
      "description": "Short workload/application name for CAF naming (e.g. 'contosoai')",
      "how_to_find": "Choose a short, unique name for your workload"
    },
    {
      "variable": "tags",
      "description": "Map of tags to apply to all resources",
      "how_to_find": "e.g. { environment = \"dev\" }"
    },
    {
      "variable": "diagnostic_settings",
      "description": "Diagnostic settings configuration for all resources",
      "how_to_find": "See https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/diagnostic-settings"
    },
    {
      "variable": "firewall_ip_configuration",
      "description": "IP configuration for Azure Firewall module",
      "how_to_find": "See https://registry.terraform.io/modules/Azure/avm-res-network-azurefirewalls/azurerm/latest"
    },
    {
      "variable": "bastion_ip_configuration",
      "description": "IP configuration for Azure Bastion module",
      "how_to_find": "See https://github.com/Azure/terraform-azurerm-avm-res-network-bastionhost"
    }
  ],
  "phase1_recommendations_applied": {
    "security": [
      "Managed identity enabled for all resources",
      "RBAC assignments for least privilege (Website Contributor, Storage Account Contributor, Storage Blob Data Contributor, Cosmos DB Account Reader Role, Cognitive Services Contributor, etc.)"
    ],
    "networking": [
      "Private endpoints enabled for all supported services",
      "Public access disabled in staging and production",
      "VNet integration for App Service, Firewall, Bastion"
    ],
    "monitoring": [
      "Diagnostic settings enabled for all resources"
    ]
  }
}
```